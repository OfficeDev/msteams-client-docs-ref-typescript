### YamlMime:TSType
name: Moderator
uid: '@microsoft/teams-ai.Moderator'
package: '@microsoft/teams-ai'
summary: A moderator is responsible for reviewing and approving AI prompts and plans.
fullName: Moderator<TState>
remarks: ''
isDeprecated: false
type: interface
methods:
  - name: reviewInput(TurnContext, TState)
    uid: '@microsoft/teams-ai.Moderator.reviewInput'
    package: '@microsoft/teams-ai'
    summary: >-
      Reviews an incoming utterance and generated prompt before it's sent to the
      planner.
    remarks: >-
      The moderator can review the incoming utterance for things like prompt
      injection attacks

      or the leakage of sensitive information. The moderator can also review the
      generated prompt

      to ensure it's appropriate for the current conversation.


      To approve a prompt, simply return undefined. Returning a new plan
      bypasses the planner and

      redirects to a new set of actions. Typically the moderator will return a
      new plan with a

      single DO command that calls `AI.FlaggedInputActionName` to flag the input
      for review.


      The moderator can pass any entities that make sense to the redirected
      action.
    isDeprecated: false
    syntax:
      content: >-
        function reviewInput(context: TurnContext, state: TState):
        Promise<undefined | Plan>
      parameters:
        - id: context
          type: TurnContext
          description: Context for the current turn of conversation.
        - id: state
          type: TState
          description: Application state for the current turn of conversation.
      return:
        description: >-
          An undefined value to approve the prompt or a new plan to redirect to
          if not approved.
        type: Promise&lt;undefined | <xref uid="@microsoft/teams-ai.Plan" />&gt;
  - name: reviewOutput(TurnContext, TState, Plan)
    uid: '@microsoft/teams-ai.Moderator.reviewOutput'
    package: '@microsoft/teams-ai'
    summary: Reviews a plan generated by the planner before its executed.
    remarks: >-
      The moderator can review the plan to ensure it's appropriate for the
      current conversation.


      To approve a plan simply return the plan that was passed in. A new plan
      can be returned to

      redirect to a new set of actions. Typically the moderator will return a
      new plan with a

      single DO command that calls `AI.FlaggedOutputActionName` to flag the
      output for review.


      The moderator can pass any entities that make sense to the redirected
      action.
    isDeprecated: false
    syntax:
      content: >-
        function reviewOutput(context: TurnContext, state: TState, plan: Plan):
        Promise<Plan>
      parameters:
        - id: context
          type: TurnContext
          description: Context for the current turn of conversation.
        - id: state
          type: TState
          description: Application state for the current turn of conversation.
        - id: plan
          type: <xref uid="@microsoft/teams-ai.Plan" />
          description: Plan generated by the planner.
      return:
        description: >-
          The plan to execute. Either the current plan passed in for review or a
          new plan.
        type: Promise&lt;<xref uid="@microsoft/teams-ai.Plan" />&gt;
